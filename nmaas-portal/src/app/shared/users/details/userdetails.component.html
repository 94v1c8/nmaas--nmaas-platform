<div class="panel panel-default">
	<div class="panel-heading">General information</div>
	<div class="panel-body">
		<form *ngIf="user"
			(submit)="submit()"
			class="form-horizontal">

			<div class="form-group">
				<label class="col-sm-2 control-label">Username:</label>
				<div class="col-sm-10">			
					<p class="form-control-static">{{user.username}}</p>
				</div>				
			</div>

			<div class="form-group">
				<label for="firstname" class="col-sm-2 control-label">First name:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" id="firstname"
						name="firstname" [(ngModel)]="user.firstname"
						[disabled]="isInMode(ComponentMode.VIEW) || isInMode(ComponentMode.PROFILVIEW)">
				</div>
			</div>

			<div class="form-group">
				<label for="lastname" class="col-sm-2 control-label">Last name:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" id="lastname"
						name="lastname" [(ngModel)]="user.lastname"
						[disabled]="isInMode(ComponentMode.VIEW) || isInMode(ComponentMode.PROFILVIEW)">
				</div>
			</div>

			<div class="form-group">
				<label for="email" class="col-sm-2 control-label">Email:</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" id="email" name="email"
						[(ngModel)]="user.email" [disabled]="isInMode(ComponentMode.VIEW) || isInMode(ComponentMode.PROFILVIEW)">
				</div>
			</div>

			<div *ngIf="user?.id && !isInMode(ComponentMode.PROFILVIEW) && authService.hasRole('ROLE_SUPERADMIN')" class="form-group">
				<label class="col-sm-2 control-label">Id in db:</label>
				<div class="col-sm-10">
					<p class="form-control-static">{{user?.id}}</p>
				</div>
			</div>

			<button *ngIf="!isInMode(ComponentMode.VIEW) && !isInMode(ComponentMode.PROFILVIEW)" type="button"
				class="btn btn-default" (click)="onModeChange()">View</button>
			<button *ngIf="!isInMode(ComponentMode.VIEW) && !isInMode(ComponentMode.PROFILVIEW)" type="submit"
				class="btn btn-danger">Submit</button>
			<button
				*ngIf="isInMode(ComponentMode.VIEW) && isModeAllowed(ComponentMode.EDIT)"
				type="button" class="btn btn-default" (click)="onModeChange()">Edit</button>
			<button (click)="passwordModal.show()" class="btn btn-success" *ngIf="isInMode(ComponentMode.PROFILVIEW)">Change password</button>
		</form>

	</div>
</div>

<nmaas-password></nmaas-password>