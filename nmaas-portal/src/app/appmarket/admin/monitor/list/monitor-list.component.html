<div class="col-sm-12 col-sm-12 col-md-12">
    <h3>{{ 'MONITOR.TITLE' | translate }}</h3>
    <br>
    <table class="table table-hover table-condensed">
        <thead>
            <tr>
                <th>{{ 'MONITOR.SERVICE_NAME' | translate }}</th>
                <th>{{ 'MONITOR.LAST_CHECK' | translate }}</th>
                <th>{{ 'MONITOR.LAST_SUCCESS' | translate }}</th>
                <th>{{ 'MONITOR.CHECK_INTERVAL' | translate }}</th>
                <th>&nbsp;</th>
            </tr>
        </thead>

        <tbody>
            <ng-template ngFor let-entry [ngForOf]="monitorEntries">
                <tr *ngIf="entry.status === null || entry.status === undefined">
                    <td>{{services[entry.serviceName]}}</td>
                    <td>
                        <span *ngIf="entry.lastCheck">{{entry.lastCheck | date:'medium'}}</span>
                        <span *ngIf="!entry.lastCheck">---</span>
                    </td>
                    <td>
                        <span *ngIf="entry.lastSuccess">{{entry.lastSuccess | date:'medium'}}</span>
                        <span *ngIf="!entry.lastSuccess">---</span>
                    </td>
                    <td>{{getIntervalCheck(entry.checkInterval, entry.timeFormat)}}</td>
                    <td >
                        <a [routerLink]="['view/', entry.serviceName.toString()]">
                            <!-- {{ 'MONITOR.VIEW_SETTINGS_BUTTON' | translate }} -->
                            <em class="far fa-eye icon-black icon-bigger"></em>
                        </a>
                        <span class="dropdown">
                            <a style="display: inline-block" class="dropdown-toggle " aria-expanded="false" aria-haspopup="true"
                               data-toggle="dropdown" href="#" role="button">
                                <em class="fas fa-cog icon-black icon-bigger"></em>
                            </a>
                            <ul class="dropdown-menu pull-right-drop">
                                <li>
                                    <a (click)="executeJob(entry.serviceName.toString())">
                                        {{ 'MONITOR.CHECK_NOW_BUTTON' | translate }}</a>
                                </li>
                                <li>
                                    <a [routerLink]="['edit/', entry.serviceName.toString()]">
                                        {{ 'MONITOR.EDIT_SETTINGS_BUTTON' | translate }}</a>
                                </li>
                                <li>
                                    <a (click)="changeJobState(entry)">{{  getCorrectStateLabel(entry.active) }}</a>
                                </li>
                            </ul>
					    </span>
                    </td>
                </tr>
                <tr *ngIf="entry.status !== null && entry.status !== undefined" [style.background-color]="entry.status.toString() === 'SUCCESS'?'#99ff99':entry.status.toString() === 'FAILURE'? '#FF6651' : null">
                    <td>{{services[entry.serviceName]}}</td>
                    <td>
                        <span *ngIf="entry.lastCheck">{{entry.lastCheck | date:'medium'}}</span>
                        <span *ngIf="!entry.lastCheck">---</span>
                    </td>
                    <td>
                        <span *ngIf="entry.lastSuccess && entry.status.toString() === 'FAILURE'">{{entry.lastSuccess | date:'medium'}}</span>
                        <span *ngIf="!entry.lastSuccess || entry.status.toString() === 'SUCCESS'"></span>
                    </td>
                    <td>{{getIntervalCheck(entry.checkInterval, entry.timeFormat)}}</td>
                    <td>

                        <a [routerLink]="['view/', entry.serviceName.toString()]">
                            <!-- {{ 'MONITOR.VIEW_SETTINGS_BUTTON' | translate }} -->
                            <em class="far fa-eye icon-black icon-bigger"></em>
                        </a>
                        <span class="dropdown">
                            <a style="display: inline-block" class="dropdown-toggle " aria-expanded="false" aria-haspopup="true"
                               data-toggle="dropdown" href="#" role="button">
                                <em class="fas fa-cog icon-black icon-bigger"></em>
                            </a>
                            <ul class="dropdown-menu pull-right-drop">
                                <li>
                                    <a (click)="executeJob(entry.serviceName.toString())">
                                        {{ 'MONITOR.CHECK_NOW_BUTTON' | translate }}</a>
                                </li>
                                <li>
                                    <a [routerLink]="['edit/', entry.serviceName.toString()]">
                                        {{ 'MONITOR.EDIT_SETTINGS_BUTTON' | translate }}</a>
                                </li>
                                <li>
                                    <a (click)="changeJobState(entry)">{{  getCorrectStateLabel(entry.active) }}</a>
                                </li>
                            </ul>
					    </span>
                    </td>
                </tr>
            </ng-template>
        </tbody>
    </table>
</div>
