<div class="row">
    <h3>Monitor service</h3>
    <a [routerLink]="['add']" class="btn btn-primary" role="button">Add job</a>
    <br>
    <table class="table table-hover table-condensed">
        <thead>
            <tr>
                <th>Service name</th>
                <th>Last check</th>
                <th>Last success</th>
                <th>Check interval</th>
                <th>&nbsp;</th>
            </tr>
        </thead>

        <tbody>
            <ng-template ngFor let-entry [ngForOf]="monitorEntries">
                <tr *ngIf="entry.status === null || entry.status === undefined">
                    <td>{{entry.serviceName.toString()}}</td>
                    <td>
                        <span *ngIf="entry.lastCheck">{{entry.lastCheck | date:'medium'}}</span>
                        <span *ngIf="!entry.lastCheck">---</span>
                    </td>
                    <td>
                        <span *ngIf="entry.lastSuccess">{{entry.lastSuccess | date:'medium'}}</span>
                        <span *ngIf="!entry.lastSuccess">---</span>
                    </td>
                    <td>{{getIntervalCheck(entry.checkInterval)}}</td>
                    <td class="text-right">
                        <a [routerLink]="['view/', entry.serviceName.toString()]" class="btn btn-primary" role="button">View settings</a>
                        <a (click)="executeJob(entry.serviceName.toString())" class="btn btn-warning" role="button">Check now</a>
                        <a [routerLink]="['edit/', entry.serviceName.toString()]" class="btn btn-success" role="button">Edit settings</a>
                        <a (click)="removeJob(entry.serviceName.toString())" class="btn btn-danger" role="button">Remove</a>
                    </td>
                </tr>
                <tr *ngIf="entry.status !== null && entry.status !== undefined" [style.background-color]="entry.status.toString() === 'SUCCESS'?'#99ff99':'#FF6651'">
                    <td>{{entry.serviceName.toString()}}</td>
                    <td>
                        <span *ngIf="entry.lastCheck">{{entry.lastCheck | date:'medium'}}</span>
                        <span *ngIf="!entry.lastCheck">---</span>
                    </td>
                    <td>
                        <span *ngIf="entry.lastSuccess">{{entry.lastSuccess | date:'medium'}}</span>
                        <span *ngIf="!entry.lastSuccess">---</span>
                    </td>
                    <td>{{getIntervalCheck(entry.checkInterval)}}</td>
                    <td class="text-right">
                        <a [routerLink]="['view/', entry.serviceName.toString()]" class="btn btn-primary" role="button">View settings</a>
                        <a (click)="executeJob(entry.serviceName.toString())" class="btn btn-warning" role="button">Check now</a>
                        <a [routerLink]="['edit/', entry.serviceName.toString()]" class="btn btn-success" role="button">Edit settings</a>
                        <a (click)="removeJob(entry.serviceName.toString())" class="btn btn-danger" role="button">Remove</a>
                    </td>
                </tr>
            </ng-template>
        </tbody>
    </table>
</div>