<div class="panel panel-default">
  <div class="panel-heading">{{ 'PORTAL_CONFIGURATION.TITLE' | translate }}</div>
  <div class="panel-body">
    <form (submit)="save()" class="form-horizontal" #configurationForm="ngForm" *ngIf="this.configuration">
      <div class="form-group">
        <label for="setMaintenance" class="col-sm-2 control-label">{{ 'PORTAL_CONFIGURATION.MAINTENANCE' | translate }}</label>
        <div class = "col-sm-10">
          <input type="checkbox" id="setMaintenance" name="setMaintenance"
                 [(ngModel)]="this.configuration.maintenance" [checked]="this.configuration.maintenance === true">
        </div>
        </div>
        <div class="form-group">
            <label for="SSOLoginAllowed" class="col-sm-2 control-label">{{ 'PORTAL_CONFIGURATION.ALLOW_SSO_LOGIN' | translate }}</label>
            <div class = "col-sm-10">
                <input type="checkbox" id="SSOLoginAllowed" name="SSOLoginAllowed"
                       [(ngModel)]="this.configuration.ssoLoginAllowed" [checked]="this.configuration.ssoLoginAllowed === true">
            </div>
        </div>
        <div class="form-group">
            <label for="defaultLang" class="col-sm-2 control-label">{{'PORTAL_CONFIGURATION.DEFAULT_LANGUAGE' | translate}}</label>
            <div class="col-sm-10">
                <select id="defaultLang" #langSelect class="form-control" (change)="this.configuration.defaultLanguage = langSelect.value">
                    <option *ngFor="let lang of languages" [value]="lang.language"
                            [selected]="lang.language === configuration.defaultLanguage">{{ lang.language }}</option>
                </select>
            </div>
        </div>
      <button class="btn btn-primary" type="submit">{{ 'PORTAL_CONFIGURATION.SUBMIT_BUTTON' | translate }}</button>
        <div class="alert alert-danger" style="margin-top: 5px" *ngIf="errorMsg">
            {{errorMsg}}
        </div>
    </form>
  </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <h4>Language support:</h4>
    </div>
    <div class="panel-body">
        <div class="table-responsive">
            <table class="">
                <ng-template ngFor let-lang [ngForOf]="languages" let-i="index">
                        <tr>
                            <th style="padding-right: 5px;"><img alt="language" src="assets/images/country/{{lang.language}}_circle.png" style="height: 22px;">
                                <label for="lang {{i}}" class="control-label">{{lang.language.toUpperCase()}}</label>
                            </th>
                            <th style="padding-left: 10px;">
                                <div class="btn-group btn-toggle" *ngIf="lang.enabled" id="lang {{i}}">
                                    <button class="btn btn-sm btn-primary active" (click)="changeLanguageState(lang, true)">Enabled</button>
                                    <button class="btn btn-sm btn-default" (click)="changeLanguageState(lang, false)">Disabled</button>
                                </div>
                                <div class="btn-group btn-toggle" *ngIf="!lang.enabled">
                                    <button class="btn btn-sm btn-default" (click)="changeLanguageState(lang, true)">Enabled</button>
                                    <button class="btn btn-sm btn-primary active" (click)="changeLanguageState(lang, false)">Disabled</button>
                                </div>
                            </th>
                        </tr>

                </ng-template>
            </table>
        </div>
            <div class="alert alert-danger" style="margin-top: 5px" *ngIf="langErrorMsg">
                {{'PORTAL_CONFIGURATION.LANGUAGE_ERROR' | translate}}
            </div>
    </div>
</div>
