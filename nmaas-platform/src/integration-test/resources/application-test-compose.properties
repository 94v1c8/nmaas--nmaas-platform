# --------------- #
# Active profiles #
# --------------- #
#   profiles are used to customise platform operations in following areas
#   - container orchestrator (options: env_docker-engine, env_docker-compose, env_kubernetes)
#   - dcn setup (options: dcn_ansible, dcn_manual, dcn_none)
#   - database (options: db_memory, db_standalone)
spring.profiles.active=env_docker-compose, dcn_ansible, db_memory

# ---------------- #
# General settings #
# ---------------- #
server.port=9000
admin.password=admin

system_component.password=systemcomponent
system_component.email=geant.notification@gmail.com

# ---------------- #
# Database         #
# ---------------- #
# In memory H2
db.inmemory.jdbc-url=jdbc:h2:mem:nmaas
db.inmemory.username=nmaas
db.inmemory.password=nmaas
# Standalone PostgreSQL
db.standalone.jdbc-url=jdbc:postgresql://localhost:5432/nmaas
db.standalone.username=nmaas
db.standalone.password=nmaas
# Common
spring.h2.console.enabled=true
spring.jpa.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.properties.hibernate.show_sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.connection.autocommit=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true

# -------------------------------------------------------- #
# NMaaS application deployment and configuration processes #
# -------------------------------------------------------- #
nmaas.service.deployment.check.interval=10
nmaas.service.deployment.max.duration=30

nmaas.portal.domains.codename.pattern=[\\p{Alnum}_]{2,8}
nmaas.portal.modals.appinstall.pattern=[a-zA-Z0-9_-]{3,10}

# --------------------------------------- #
# Application configuration file download #
# --------------------------------------- #
# Username to be used by the Platform to connect to Docker Host (SSH keys are assumed to be exchanges to no password is required)
app.config.ssh.username=nmaasconfig
# Complete URL of a REST endpoint for downloading application configuration files
app.config.download.url=http://localhost:9000/api/configs/
# Basic auth username for downloading application configuration files
app.config.download.client.username=configTest
# Basic auth password for downloading application configuration files
app.config.download.client.password=testpass

# ------------------------------ #
# Quartz scheduler configuration #
# ------------------------------ #
spring.quartz.job-store-type=jdbc
spring.quartz.jdbc.initialize-schema=always
spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate

# ---------------------------- #
# Docker Compose file download #
# ---------------------------- #
# Username to be used by the Platform to connect to Docker Host (SSH keys are assumed to be exchanges to no password is required)
app.compose.ssh.username=nmaasconfig
# Complete URL of a REST endpoint for downloading Docker Compose files
app.compose.download.url=http://localhost:9000/api/dockercompose/files/
# Basic auth username for downloading Docker Compose files
app.compose.download.client.username=composeTest
# Basic auth password for downloading Docker Compose files
app.compose.download.client.password=testpass

# --------------------------- #
# DCN deployment with Ansible #
# --------------------------- #
# Address of the Docker Host used to run Ansible containers
ansible.docker.host=192.168.1.1
# Port of the Ansible Docker remote API
ansible.docker.api.port=2375
# Complete URL of the Ansible Docker remote API
ansible.docker.api.url=http://${ansible.docker.host}:${ansible.docker.api.port}
# Ansible Docker image
ansible.docker.image=nmaas/ansible:2.3.0
# Name of Ansible playbook for configuring VPN on client facing router
ansible.playbook.client.router.config.add=pb-nmaas-vpn-asbr-config.yml
# Name of Ansible playbook for removing VPN on client facing router
ansible.playbook.client.router.config.rem=pb-nmaas-vpn-asbr-delete.yml
# Name of Ansible playbook for configuring VPN on cloud facing router
ansible.playbook.cloud.router.config.add=pb-nmaas-vpn-iaas-config.yml
# Name of Ansible playbook for removing VPN on cloud facing router
ansible.playbook.cloud.router.config.rem=pb-nmaas-vpn-iaas-delete.yml
# Basic auth username for posting notification about playbook executions
ansible.notification.client.username=ansibleTest
# Basic auth password for posting notification about playbook executions
ansible.notification.client.password=testpass

# ----- #
# Other #
# ----- #
upload.dir=/tmp
jwt.tokenValidFor=3600000
jwt.refreshTokenValidFor=13600000
jwt.issuer=NMaaS
jwt.signingKey=testKey

# -------------------- #
# Notification service #
# -------------------- #
notification.url=https://notification.nmaas.qalab.geant.net
notification.port=443
notification.path=/email

sso.key=jovana_shared_secret_key


# ------------------ #
# Helm configuration #
# ------------------ #
helm.address=nmaas-helm.kube-system
helm.username=helm
helm.useLocalCharts=false
helm.repositoryName=nmaas
helm.chartsDirectory=/home/nmaas/charts